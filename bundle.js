!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([/*!*****************!*\
  !*** multi app ***!
  \*****************/
function(t,e,n){t.exports=n(/*! ./src/index.js */22)},/*!************************!*\
  !*** ./~/riot/riot.js ***!
  \************************/
function(t,e,n){var i;!function(o,a){"use strict";function r(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function s(t,e){for(var n,i=e.length,o=t.length;i>o;)n=e[--i],e.splice(i,1),n.unmount()}function c(t,e){Object.keys(t.tags).forEach(function(n){var i=t.tags[n];P(i)?_(i,function(t){M(t,n,e)}):M(i,n,e)})}function u(t,e,n){var i,o=t._root;for(t._virts=[];o;)i=o.nextSibling,n?e.insertBefore(o,n._root):e.appendChild(o),t._virts.push(o),o=i}function l(t,e,n,i){for(var o,a=t._root,r=0;r<i;r++)o=a.nextSibling,e.insertBefore(a,n._root),a=o}function d(t,e,n){E(t,"each");var i,o=typeof T(t,"no-reorder")!==lt||E(t,"no-reorder"),a=L(t),d=at[a]||{tmpl:b(t)},f=gt.test(a),p=t.parentNode,m=document.createTextNode(""),g=D(t),v="option"===a.toLowerCase(),_=[],y=[],w="VIRTUAL"==t.tagName;n=Z.loopKeys(n),p.insertBefore(m,t),e.one("before-mount",function(){t.parentNode.removeChild(t),p.stub&&(p=e.root)}).on("update",function(){var b,x,k,E,S,T,I,D,C=Z(n.val,e),M=document.createDocumentFragment();for(P(C)||(i=C||!1,C=i?Object.keys(C).map(function(t){return r(n,t,C[t])}):[]),b=0,x=C.length;b<x;b++)k=C[b],E=o&&typeof k==dt&&!i,S=y.indexOf(k),T=~S&&E?S:b,I=_[T],k=!i&&n.key?r(n,k,b):k,!E&&!I||E&&!~S||!I?(I=new h(d,{parent:e,isLoop:!0,hasImpl:!!at[a],root:f?p:t.cloneNode(),item:k},t.innerHTML),I.mount(),w&&(I._root=I.root.firstChild),b!=_.length&&_[b]?(w?u(I,p,_[b]):p.insertBefore(I.root,_[b].root),y.splice(b,0,k)):w?u(I,M):M.appendChild(I.root),_.splice(b,0,I),T=b):I.update(k,!0),T!==b&&E&&_[b]&&(w?l(I,p,_[b],t.childNodes.length):_[b].root.parentNode&&p.insertBefore(I.root,_[b].root),n.pos&&(I[n.pos]=b),_.splice(b,0,_.splice(T,1)[0]),y.splice(b,0,y.splice(T,1)[0]),!g&&I.tags&&c(I,b)),I._item=k,V(I,"_parent",e);if(s(C,_),p.insertBefore(M,m),v&&bt&&!p.multiple)for(D=0;D<p.length;D++)if(p[D].__riot1374){p.selectedIndex=D,delete p[D].__riot1374;break}g&&(e.tags[a]=_),y=C.slice()})}function f(t,e,n,i){A(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||T(t,"each")?1:0,n){var o=D(t);o&&!t.isLoop&&n.push(N(o,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!i||K(t,e,[])}})}function p(t,e,n){function i(t,e,i){Z.hasExpr(e)&&n.push(O({dom:t,expr:e},i))}A(t,function(t){var n,o=t.nodeType;if(3==o&&"STYLE"!=t.parentNode.tagName&&i(t,t.nodeValue),1==o)return(n=T(t,"each"))?(d(t,e,n),!1):(_(t.attributes,function(e){var n=e.name,o=n.split("__")[1];if(i(t,e.value,{attr:o||n,bool:o}),o)return E(t,n),!1}),!D(t)&&a)})}function h(t,e,n){function i(){var t=g&&m?l:h||l;_(T.attributes,function(e){var n=e.value;d[S(e.name)]=Z.hasExpr(n)?Z(n,t):n}),_(Object.keys(C),function(e){d[S(e)]=Z(C[e],t)})}function o(t){for(var e in b)typeof l[e]!==ft&&j(l,e)&&(l[e]=t[e])}function r(t){_(Object.keys(t),function(e){var n=!vt.test(e)&&z(M,e);(typeof l[e]===ft||n)&&(n||M.push(e),l[e]=t[e])})}function s(t){l.update(t,!0)}function c(t){if(_(x,function(e){e[t?"mount":"unmount"]()}),h){var e=t?"on":"off";m?h[e]("unmount",l.unmount):h[e]("update",s)[e]("unmount",l.unmount)}}var u,l=nt.observable(this),d=Y(e.opts)||{},h=e.parent,m=e.isLoop,g=e.hasImpl,b=q(e.item),w=[],x=[],T=e.root,D=T.tagName.toLowerCase(),C={},M=[];t.name&&T._tag&&T._tag.unmount(!0),this.isMounted=!1,T.isLoop=m,T._tag=this,V(this,"_riot_id",++it),O(this,{parent:h,root:T,opts:d},b),V(this,"tags",{}),_(T.attributes,function(t){var e=t.value;Z.hasExpr(e)&&(C[t.name]=e)}),u=X(t.tmpl,n),V(this,"update",function(t,e){return t=q(t),m&&r(l.parent),t&&k(b)&&(o(t),b=t),O(l,t),i(),l.trigger("update",t),v(w,l),e&&l.parent?l.parent.one("updated",function(){l.trigger("updated")}):et(function(){l.trigger("updated")}),this}),V(this,"mixin",function(){return _(arguments,function(t){var e,n,i,o=[];t=typeof t===lt?nt.mixin(t):t,e=y(t)?new t:t,i=Object.getPrototypeOf(e);do o=o.concat(Object.getOwnPropertyNames(n||e));while(n=Object.getPrototypeOf(n||e));_(o,function(t){var n,o;"init"!=t&&(n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(i,t),o=n&&(n.get||n.set),!l.hasOwnProperty(t)&&o?Object.defineProperty(l,t,n):l[t]=y(e[t])?e[t].bind(l):e[t])}),e.init&&e.init.bind(l)()}),this}),V(this,"mount",function(){var e,n;if(i(),e=nt.mixin(rt))for(n in e)e.hasOwnProperty(n)&&l.mixin(e[n]);if(l._parent&&l._parent.root.isLoop&&r(l._parent),t.fn&&t.fn.call(l,d),p(u,l,w),c(!0),t.attrs&&F(t.attrs,function(t,e){I(T,t,e)}),(t.attrs||g)&&p(l.root,l,w),l.parent&&!m||l.update(b),l.trigger("before-mount"),m&&!g)T=u.firstChild;else{for(;u.firstChild;)T.appendChild(u.firstChild);T.stub&&(T=h.root)}V(l,"root",T),m&&f(l.root,l.parent,null,!0),!l.parent||l.parent.isMounted?(l.isMounted=!0,l.trigger("mount")):l.parent.one("mount",function(){B(l.root)||(l.parent.isMounted=l.isMounted=!0,l.trigger("mount"))})}),V(this,"unmount",function(t){var e,n=T,i=n.parentNode,o=ot.indexOf(l);if(l.trigger("before-unmount"),~o&&ot.splice(o,1),i){if(h)e=R(h),P(e.tags[D])?_(e.tags[D],function(t,n){t._riot_id==l._riot_id&&e.tags[D].splice(n,1)}):e.tags[D]=a;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(E(i,ut),E(i,ct)):i.removeChild(n)}this._virts&&_(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),l.trigger("unmount"),c(),l.off("*"),l.isMounted=!1,delete T._tag}),f(u,this,x)}function m(t,e,n,i){n[t]=function(t){var a,r=i._parent,s=i._item;if(!s)for(;r&&!s;)s=r._item,r=r._parent;t=t||o.event,j(t,"currentTarget")&&(t.currentTarget=n),j(t,"target")&&(t.target=t.srcElement),j(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=s,e.call(i,t)===!0||/radio|check/.test(n.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(a=s?R(r):i,a.update())}}function g(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function v(t,e){_(t,function(t,n){var i,o,r,s=t.dom,c=t.attr,u=Z(t.expr,e),l=t.parent||t.dom.parentNode;if(t.bool?u=!!u:null==u&&(u=""),t.value!==u){if(t.value=u,!c)return u+="",l&&(t.parent=l,"TEXTAREA"===l.tagName?(l.value=u,yt||(s.nodeValue=u)):s.nodeValue=u),a;if("value"===c)return s.value!==u&&(s.value=u,I(s,c,u)),a;E(s,c),y(u)?m(c,u,s,e):"if"==c?(i=t.stub,o=function(){g(i.parentNode,i,s)},r=function(){g(s.parentNode,s,i)},u?i&&(o(),s.inStub=!1,B(s)||A(s,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(i=t.stub=i||document.createTextNode(""),s.parentNode?r():(e.parent||e).one("updated",r),s.inStub=!0)):"show"===c?s.style.display=u?"":"none":"hide"===c?s.style.display=u?"none":"":t.bool?(s[c]=u,u&&I(s,c,c),bt&&"selected"===c&&"OPTION"===s.tagName&&(s.__riot1374=u)):(0===u||u&&typeof u!==dt)&&(W(c,st)&&c!=ct&&(c=c.slice(st.length)),I(s,c,u))}})}function _(t,e){var n,i,o=t?t.length:0;for(n=0;n<o;n++)i=t[n],null!=i&&e(i,n)===!1&&n--;return t}function y(t){return typeof t===pt||!1}function b(t){if(t.outerHTML)return t.outerHTML;var e=U("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function w(t,e){if(typeof t.innerHTML!=ft)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function x(t){return~_t.indexOf(t)}function k(t){return t&&typeof t===dt}function E(t,e){t.removeAttribute(e)}function S(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function T(t,e){return t.getAttribute(e)}function I(t,e,n){var i=mt.exec(e);i&&i[1]?t.setAttributeNS(ht,i[1],n):t.setAttribute(e,n)}function D(t){return t.tagName&&at[T(t,ut)||T(t,ct)||t.tagName.toLowerCase()]}function C(t,e,n){var i=n.tags[e];i?(P(i)||i!==t&&(n.tags[e]=[i]),z(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function M(t,e,n){var i,o=t.parent;o&&(i=o.tags[e],P(i)?i.splice(n,0,i.splice(i.indexOf(t),1)[0]):C(t,e,o))}function N(t,e,n,i){var o=new h(t,e,n),a=L(e.root),r=R(i);return o.parent=r,o._parent=i,C(o,a,r),r!==i&&C(o,a,i),e.root.innerHTML="",o}function R(t){for(var e=t;!D(e.root)&&e.parent;)e=e.parent;return e}function V(t,e,n,i){return Object.defineProperty(t,e,O({value:n,enumerable:!1,writable:!1,configurable:!0},i)),t}function L(t){var e=D(t),n=T(t,"name"),i=n&&!Z.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return i}function O(t){var e,n,i,o=arguments;for(n=1;n<o.length;++n)if(e=o[n])for(i in e)j(t,i)&&(t[i]=e[i]);return t}function z(t,e){return~t.indexOf(e)}function P(t){return Array.isArray(t)||t instanceof Array}function j(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===ft||n&&n.writable}function q(t){var e,n;if(!(t instanceof h||t&&typeof t.trigger==pt))return t;e={};for(n in t)vt.test(n)||(e[n]=t[n]);return e}function A(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)A(t,e),t=t.nextSibling}}function F(t,e){for(var n,i=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=i.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function B(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function U(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function H(t,e){return(e||document).querySelectorAll(t)}function $(t,e){return(e||document).querySelector(t)}function Y(t){return Object.create(t||null)}function G(t){return T(t,"id")||T(t,"name")}function K(t,e,n){var i,o=G(t),a=function(a){z(n,o)||(i=P(a),a?(!i||i&&!z(a,t))&&(i?a.push(t):e[o]=[a,t]):e[o]=t)};o&&(Z.hasExpr(o)?e.one("mount",function(){o=G(t),a(e[o])}):a(e[o]))}function W(t,e){return t.slice(0,e.length)===e}function J(t,e,n){var i=at[e],o=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",i&&t&&(i=new h(i,{root:t,opts:n},o)),i&&i.mount&&(i.mount(),z(ot,i)||ot.push(i)),i}var Q,Z,X,tt,et,nt={version:"v2.6.4",settings:{}},it=0,ot=[],at={},rt="__global_mixin",st="riot-",ct=st+"tag",ut="data-is",lt="string",dt="object",ft="undefined",pt="function",ht="http://www.w3.org/1999/xlink",mt=/^xlink:(\w+)/,gt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,vt=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,_t=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],yt=0|(o&&o.document||{}).documentMode,bt=o&&!!o.InstallTrigger;nt.observable=function(t){function e(t,e){for(var n,i=t.split(" "),o=i.length,a=0;a<o;a++)n=i[a],n&&e(n,a)}t=t||{};var n={},i=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(i,o){return"function"!=typeof o?t:(e(i,function(t,e){(n[t]=n[t]||[]).push(o),o.typed=e>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(i,o){return"*"!=i||o?e(i,function(t,e){var i,a,r;if(o)for(i=n[t],a=0;r=i&&i[a];++a)r==o&&i.splice(a--,1);else delete n[t]}):n={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function i(){t.off(e,i),n.apply(t,arguments)}return t.on(e,i)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){var a,r,s=arguments.length-1,c=Array(s);for(r=0;r<s;r++)c[r]=arguments[r+1];return e(o,function(e,o){a=i.call(n[e]||[],0);for(var r,s=0;r=a[s];++s)r.busy||(r.busy=1,r.apply(t,r.typed?[e].concat(c):c),a[s]!==r&&s--,r.busy=0);n["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(c))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(t){function e(t){return t.split(/[\/?#]/)}function n(t,e){var n=RegExp("^"+e[I](/\*/g,"([^/?#]+?)")[I](/\.\./,".*")+"$"),i=t.match(n);if(i)return i.slice(1)}function i(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function r(t){m=i(f,1),R[S](D,m),R[S](C,m),V[S](P,p),t&&f(!0)}function s(){this.$=[],t.observable(this),q.on("stop",this.s.bind(this)),q.on("emit",this.e.bind(this))}function c(t){return t[I](/^\/|\/$/,"")}function u(t){return"string"==typeof t}function l(t){return(t||O.href)[I](x,"")}function d(t){return"#"==g[0]?(t||O.href||"").split(g)[1]||"":(O?l(t):t||"")[I](g,"")}function f(t){var e,n=0==B;if(!(N<=B)&&(B++,F.push(function(){var e=d();(t||e!=v)&&(q[M]("emit",e),v=e)}),n)){for(;e=F.shift();)e();B=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[T]("download")||!e[T]("href")||e.target&&"_self"!=e.target||e.href.indexOf(O.href.match(x)[0])==-1||e.href!=O.href&&(e.href.split("#")[0]==O.href.split("#")[0]||"#"!=g[0]&&0!==l(e.href).indexOf(g)||"#"==g[0]&&e.href.split(g)[0]!=O.href.split(g)[0]||!h(d(e.href),e.title||V.title))||t.preventDefault()}}function h(t,e,n){return L?(t=g+c(t),e=e||V.title,n?L.replaceState(null,e,t):L.pushState(null,e,t),V.title=e,A=!1,f(),A):q[M]("emit",d(t))}var m,g,v,_,y,b,w,x=/^.+?\/\/+[^\/]+/,k="EventListener",E="remove"+k,S="add"+k,T="hasAttribute",I="replace",D="popstate",C="hashchange",M="trigger",N=3,R=a!==o&&o,V="undefined"!=typeof document&&document,L=R&&history,O=R&&(L.location||R.location),z=s.prototype,P=V&&V.ontouchstart?"touchstart":"click",j=!1,q=t.observable(),A=!1,F=[],B=0;z.m=function(t,e,n){!u(t)||e&&!u(e)?e?this.r(t,e):this.r("@",t):h(t,e,n||!1)},z.s=function(){this.off("*"),this.$=[]},z.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?_:y)(c(t),c(e));if(a!==n)return this[M].apply(null,[e].concat(n)),A=!0},this)},z.r=function(t,e){"@"!=t&&(t="/"+c(t),this.$.push(t)),this.on(t,e)},b=new s,w=b.m.bind(b),w.create=function(){var t=new s,e=t.m.bind(t);return e.stop=t.s.bind(t),e},w.base=function(t){g=t||"#",v=d()},w.exec=function(){f(!0)},w.parser=function(t,i){t||i||(_=e,y=n),t&&(_=t),i&&(y=i)},w.query=function(){var t={},e=O.href||v;return e[I](/[?&](.+?)=([^&]*)/g,function(e,n,i){t[n]=i}),t},w.stop=function(){j&&(R&&(R[E](D,m),R[E](C,m),V[E](P,p)),q[M]("stop"),j=!1)},w.start=function(t){j||(R&&("complete"==document.readyState?r(t):R[S]("load",function(){setTimeout(function(){r(t)},1)})),j=!0)},w.base(),w.parser(),t.route=w}(nt),Q=function(t){function e(t){return t}function n(t,e){return e||(e=b),RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?l:"")}function i(t){if(t===v)return _;var e=t.split(" ");if(2!==e.length||h.test(t))throw Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(m,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:_[4],e),e[5]=n(t.length>3?/\\({|})/g:_[5],e),e[6]=n(_[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,l),e[8]=t,e}function o(t){return t instanceof RegExp?c(t):b[t]}function r(t){(t||(t=v))!==b[8]&&(b=i(t),c=t===v?e:n,b[9]=c(_[9])),y=t}function s(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:r,get:function(){return y},enumerable:!0}),u=t,r(e)}var c,u,l="g",d=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,f=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=f.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,h=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),m=/(?=[[\]()*+?.^$|])/g,g={"(":RegExp("([()])|"+p,l),"[":RegExp("([[\\]])|"+p,l),"{":RegExp("([{}])|"+p,l)},v="{ }",_=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,l),v,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=t,b=[];return o.split=function(t,e,n){function i(t){e||r?u.push(t&&t.replace(n[5],"$1")):u.push(t)}function o(t,e,n){var i,o=g[e];for(o.lastIndex=n,n=1;(i=o.exec(t))&&(!i[1]||(i[1]===e?++n:--n)););return n?t.length:o.lastIndex}n||(n=b);var a,r,s,c,u=[],l=n[6];for(r=s=l.lastIndex=0;a=l.exec(t);){if(c=a.index,r){if(a[2]){l.lastIndex=o(t,a[2],l.lastIndex);continue}if(!a[3])continue}a[1]||(i(t.slice(s,c)),s=l.lastIndex,l=n[6+(r^=1)],l.lastIndex=s)}return t&&s<t.length&&i(t.slice(s)),u},o.hasExpr=function(t){return b[4].test(t)},o.loopKeys=function(t){var e=t.match(b[9]);return e?{key:e[1],pos:e[2],val:b[0]+e[3].trim()+b[1]}:{val:t.trim()}},o.array=function(t){return t?i(t):b},Object.defineProperty(o,"settings",{set:s,get:function(){return u}}),o.settings=a!==nt&&nt.settings||{},o.set=r,o.R_STRINGS=f,o.R_MLCOMMS=d,o.S_QBLOCKS=p,o}(),Z=function(){function t(t,i){return t?(g[t]||(g[t]=n(t))).call(i,e):t}function e(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function n(t){var e=i(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),Function("E",e+";")}function i(t){var e,n,i,o,r=[],s=Q.split(t.replace(l,'"'),1);if(s.length>2||s[0]){for(o=[],n=i=0;n<s.length;++n)e=s[n],e&&(e=1&n?a(e,1,r):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(o[i++]=e);e=i<2?o[0]:"["+o.join(",")+'].join("")'}else e=a(s[1],0,r);return r[0]&&(e=e.replace(d,function(t,e){return r[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function a(t,e,n){function i(e,n){var i,o=1,a=f[e];for(a.lastIndex=n.lastIndex;i=a.exec(t);)if(i[0]===e)++o;else if(!--o)break;n.lastIndex=o?t.length:a.lastIndex}var o,a,l,d,p,h;if(t=t.replace(u,function(t,e){return t.length>2&&!e?s+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(o=[],a=0;t&&(l=t.match(c))&&!l.index;){for(h=/,|([[{(])|$/g,t=RegExp.rightContext,d=l[2]?n[l[2]].slice(1,-1).trim().replace(/\s+/g," "):l[1];p=(l=h.exec(t))[1];)i(p,h);p=t.slice(0,l.index),t=RegExp.rightContext,o[a++]=r(p,1,d)}t=a?a>1?"["+o.join(",")+'].join(" ").trim()':o[0]:r(t,e)}return t}function r(t,e,n){var i;return t=t.replace(h,function(t,e,n,o,a){return n&&(o=i?0:o+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+p+n,o&&(i="."===(a=a[o])||"("===a||"["===a)):o&&(i=!m.test(a.slice(o)))),t}),i&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(i?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(i?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var s,c,u,l,d,f,p,h,m,g={};return t.haveRaw=Q.hasRaw,t.hasExpr=Q.hasExpr,t.loopKeys=Q.loopKeys,t.clearCache=function(){g={}},t.errorHandler=null,s=String.fromCharCode(8279),c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,u=RegExp(Q.S_QBLOCKS,"g"),l=/\u2057/g,d=/\u2057(\d+)~/g,f={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},p='"in this?this:'+("object"!=typeof o?"global":"window")+").",h=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/,t.version=Q.version="v2.4.2",t}(),X=function wt(){function wt(n,i){var o=n&&n.match(/^\s*<([-\w]+)/),a=o&&o[1].toLowerCase(),r=U("div",x(a));return n=e(n,i),s.test(a)?r=t(r,n,a):w(r,n),r.stub=!0,r}function t(t,e,n){var i,o="o"===n[0],a=o?"select>":"table>";return t.innerHTML="<"+a+e.trim()+"</"+a,a=t.firstChild,o?a.selectedIndex=-1:(i=r[n],i&&1===a.childElementCount&&(a=$(i,a))),a}function e(t,e){if(!n.test(t))return t;var r={};return e=e&&e.replace(o,function(t,e,n){return r[e]=r[e]||n,""}).trim(),t.replace(a,function(t,e,n){return r[e]||n||""}).replace(i,function(t,n){return e||n||""})}var n=/<yield\b/i,i=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,o=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,a=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,r={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=yt&&yt<10?gt:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return wt}(),tt=function(t){var e,n,i;return o?(e=function(){var t,e=U("style");return I(e,"type","text/css"),t=$("style[type=riot]"),t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),n=e.styleSheet,i="",Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){i+=t},inject:function(){i&&(n?n.cssText+=i:e.innerHTML+=i,i="")}}):{add:function(){},inject:function(){}}}(nt),et=function(t){var e,n=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;return n&&!/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)||(e=0,n=function(t){var n=Date.now(),i=Math.max(16-(n-e),0);setTimeout(function(){t(e=n+i)},i)}),n}(o||{}),nt.util={brackets:Q,tmpl:Z},nt.mixin=function(){var t={},e=t[rt]={},n=0;return function(i,o,r){if(k(i))return nt.mixin("__unnamed_"+n++,i,!0),a;var s=r?e:t;if(!o){if(typeof s[i]===ft)throw Error("Unregistered mixin: "+i);return s[i]}y(o)?(O(o.prototype,s[i]||{}),s[i]=o):s[i]=O(s[i]||{},o)}}(),nt.tag=function(t,e,n,i,o){return y(i)&&(o=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(y(n)?o=n:tt.add(n)),t=t.toLowerCase(),at[t]={name:t,tmpl:e,attrs:i,fn:o},t},nt.tag2=function(t,e,n,i,o){return n&&tt.add(n),at[t]={name:t,tmpl:e,attrs:i,fn:o},t},nt.mount=function(t,e,n){function i(t){var e="";return _(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+ut+'="'+t+'"],['+ct+'="'+t+'"]')}),e}function o(){var t=Object.keys(at);return t+i(t)}function a(t){var i,o;t.tagName?(i=T(t,ut)||T(t,ct),e&&i!==e&&(i=e,I(t,ut,e),I(t,ct,e)),o=J(t,i||t.tagName.toLowerCase(),n),o&&u.push(o)):t.length&&_(t,a)}var r,s,c,u=[];return tt.inject(),k(e)&&(n=e,e=0),typeof t===lt?("*"===t?t=s=o():t+=i(t.split(/, */)),r=t?H(t):[]):r=t,"*"===e&&(e=s||o(),r.tagName?r=H(e,r):(c=[],_(r,function(t){c.push(H(e,t))}),r=c),e=0),a(r),u},nt.update=function(){return _(ot,function(t){t.update()})},nt.vdom=ot,nt.Tag=h,typeof e===dt?t.exports=nt:"function"===pt&&typeof n(/*! !webpack amd options */29)!==ft?(i=function(){return nt}.call(e,n,e,t),!(i!==a&&(t.exports=i))):o.riot=nt}("undefined"!=typeof window?window:void 0)},/*!***********************!*\
  !*** ./src/helper.js ***!
  \***********************/
function(t,e){"use strict";e.addCommas=function(t){var e,n,i,o;for(t+="",e=t.split("."),n=e[0],i=e.length>1?"."+e[1]:"",o=/(\d+)(\d{3})/;o.test(n);)n=n.replace(o,"$1.$2");return n+i},e.avoidDup=function(t){var e=_.map(_.uniq(_.map(t,function(t){return JSON.stringify(t)})),function(t){return JSON.parse(t)});return e},e.formattedTime=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?7:arguments[2],i=new Date(1e3*(t-60*n*60)),o="0"+i.getDate(),a="0"+(i.getMonth()+1),r=i.getFullYear(),s=i.getHours(),c="0"+i.getMinutes(),u="0"+i.getSeconds();return e?o.substr(-2)+"/"+a.substr(-2)+"/"+r:o.substr(-2)+"/"+a.substr(-2)+"/"+r+" "+s+":"+c.substr(-2)+":"+u.substr(-2)},e.fromTimestampToString=function(t){var e=arguments.length<=1||void 0===arguments[1]?"/":arguments[1],n=new Date(1e3*t),i="0"+n.getDate(),o="0"+(n.getMonth()+1),a=n.getFullYear();return o.substr(-2)+e+i.substr(-2)+e+a},e.toTimestamp=function(t){return Date.parse(t+"-0500")/1e3}},/*!************************************!*\
  !*** ./~/alerty/dist/js/alerty.js ***!
  \************************************/
function(t,e,n){var i;(function(t){!function(){"use strict";var o,a,r={addClass:function(t,e){var n=t.className,i=""!==n?" ":"",o=n+i+e;t.className=o},removeClass:function(t,e){var n,i=" "+t.className+" ";i=i.replace(/(\s+)/gi," "),n=i.replace(" "+e+" "," "),n=n.replace(/(^\s+)|(\s+$)/g,""),t.className=n},hasClass:function(t,e){var n=t.className,i=n.split(/\s+/),o=0;for(o in i)if(i[o]==e)return!0;return!1},addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):delete t["on"+e]},removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},setUid:function(t){do t+=Math.floor(1e6*Math.random());while(document.getElementById(t));return t}},s=function(){var t={defaults:{okLabel:"确定",cancelLabel:"取消",time:2e3},previousCallback:null,template:'<div class="alerty-overlay" tabindex="-1"></div><div class="alerty"><div class="alerty-title"></div><div class="alerty-content"><p class="alerty-message"></p><div class="alerty-prompt"><input type="text" placeholder="" value=""><div class="input-line"></div></div></div><div class="alerty-action"><a class="btn-cancel"></a><a class="btn-ok"></a></div></div>',setup:function(t,e,n,i,o){var a,s,c,u,l,d,f,p,h,m,g,v,_="function"==typeof n;for(_&&(o=i,i=n),a=document.querySelector(".alerty"),a&&(r.removeElement(a),s=this.previousCallback,s&&s()),c=document.createElement("div"),c.innerHTML=this.template;c.firstChild;)document.body.appendChild(c.firstChild);u=document.querySelector(".alerty"),l=document.querySelector(".alerty-overlay"),d=u.querySelector(".alerty-title"),f=u.querySelector(".alerty-message"),p=u.querySelector(".alerty-action"),h=u.querySelector(".btn-ok"),m=u.querySelector(".btn-cancel"),g=u.querySelector(".alerty-prompt"),v=g.querySelector("input"),u.id=r.setUid("alerty"),l.id="overlay-"+u.id,r.addClass(l,"active"),r.addClass(u,"alerty-show"),f.innerHTML=e,n&&n.time&&(this.defaults.time=n.time),"prompt"!==t?r.removeElement(g):(v.focus(),n&&n.inputType&&v.setAttribute("type",n.inputType),n&&n.inputPlaceholder&&v.setAttribute("placeholder",n.inputPlaceholder),n&&n.inputValue&&v.setAttribute("value",n.inputValue)),"toasts"===t?(this.previousCallback=i,r.removeElement(d),r.removeElement(p),r.removeElement(l),r.addClass(u,"toasts"),n&&"top"===n.place&&r.addClass(u,"place-top"),n&&n.bgColor&&(u.style.backgroundColor=n.bgColor),n&&n.fontColor&&(f.style.color=n.fontColor)):(r.addClass(document.body,"no-scrolling"),n&&n.title?d.innerHTML=n.title:r.removeElement(d),n&&n.okLabel?h.innerHTML=n.okLabel:h.innerHTML=this.defaults.okLabel,u.style.marginTop=-u.offsetHeight/2+"px","confirm"===t||"prompt"===t?n&&n.cancelLabel?m.innerHTML=n.cancelLabel:m.innerHTML=this.defaults.cancelLabel:r.removeElement(m)),this.bindEvent(u,i,o)},bindEvent:function(t,e,n){var i=this,o=t.querySelector(".btn-ok"),a=t.querySelector(".btn-cancel");r.hasClass(t,"toasts")&&setTimeout(function(){null!==document.getElementById(t.id)&&i.close(t,e)},i.defaults.time),o&&r.addEvent(o,"click",function(){i.close(t,e)}),a&&r.addEvent(a,"click",function(){i.close(t,n)})},close:function(t,e){var n=t.querySelector("input"),i=document.getElementById("overlay-"+t.id);r.removeClass(t,"alerty-show"),r.addClass(t,"alerty-hide"),setTimeout(function(){i&&r.removeClass(i,"active"),r.removeClass(document.body,"no-scrolling"),r.removeElement(t),r.removeElement(i),e&&setTimeout(function(){n?e(n.value):e()},100)},100)}};return{toasts:function(e,n,i){t.setup("toasts",e,n,i)},alert:function(e,n,i){t.setup("alert",e,n,i)},confirm:function(e,n,i,o){t.setup("confirm",e,n,i,o)},prompt:function(e,n,i){t.setup("prompt",e,n,i)}}};if(void 0!==t&&t&&t.exports){t.exports=function(){return new s},o=new s;for(a in o)t.exports[a]=o[a]}else i=function(){return new s}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}()}).call(e,n(/*! ./../../../webpack/buildin/module.js */30)(t))},/*!*****************************************!*\
  !*** ./~/pikaday/pikaday_standalone.js ***!
  \*****************************************/
function(t,e,n){var i,o,a;/*!
	 * Pikaday
	 *
	 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
	 */
!function(n,r){"use strict";o=[],i=r,a="function"==typeof i?i.apply(e,o):i,!(void 0!==a&&(t.exports=a))}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,i=window.document,o=window.setTimeout,a=function(t,e,i,o){n?t.addEventListener(e,i,!!o):t.attachEvent("on"+e,i)},r=function(t,e,i,o){n?t.removeEventListener(e,i,!!o):t.detachEvent("on"+e,i)},s=function(t,e,n){var o;i.createEvent?(o=i.createEvent("HTMLEvents"),o.initEvent(e,!0,!1),o=y(o,n),t.dispatchEvent(o)):i.createEventObject&&(o=i.createEventObject(),o=y(o,n),t.fireEvent("on"+e,o))},c=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},u=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},l=function(t,e){u(t,e)||(t.className=""===t.className?e:t.className+" "+e)},d=function(t,e){t.className=c((" "+t.className+" ").replace(" "+e+" "," "))},f=function(t){return/Array/.test(Object.prototype.toString.call(t))},p=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},h=function(t){var e=t.getDay();return 0===e||6===e},m=function(t){return t%4===0&&t%100!==0||t%400===0},g=function(t,e){return[31,m(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){p(t)&&t.setHours(0,0,0,0)},_=function(t,e){return t.getTime()===e.getTime()},y=function(t,e,n){var i,o;for(i in e)o=void 0!==t[i],o&&"object"==typeof e[i]&&null!==e[i]&&void 0===e[i].nodeName?p(e[i])?n&&(t[i]=new Date(e[i].getTime())):f(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=y({},e[i],n):!n&&o||(t[i]=e[i]);return t},b=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},w={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},k=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},E=function(t,e,n){var i=new Date(n,0,1),o=Math.ceil(((new Date(n,e,t)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+o+"</td>"},S=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},T=function(t){return"<tbody>"+t.join("")+"</tbody>"},I=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+x(t,e)+'">'+x(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},D=function(t,e,n,i,o){var a,r,s,c,u,l=t._o,d=n===l.minYear,p=n===l.maxYear,h='<div class="pika-title">',m=!0,g=!0;for(s=[],a=0;a<12;a++)s.push('<option value="'+(n===o?a-e:12+a-e)+'"'+(a===i?" selected":"")+(d&&a<l.minMonth||p&&a>l.maxMonth?"disabled":"")+">"+l.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+l.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+s.join("")+"</select></div>",f(l.yearRange)?(a=l.yearRange[0],r=l.yearRange[1]+1):(a=n-l.yearRange,r=1+n+l.yearRange),s=[];a<r&&a<=l.maxYear;a++)a>=l.minYear&&s.push('<option value="'+a+'"'+(a===n?" selected":"")+">"+a+"</option>");return u='<div class="pika-label">'+n+l.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+s.join("")+"</select></div>",h+=l.showMonthAfterYear?u+c:c+u,d&&(0===i||l.minMonth>=i)&&(m=!1),p&&(11===i||l.maxMonth<=i)&&(g=!1),0===e&&(h+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+l.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(h+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+l.i18n.nextMonth+"</button>"),h+="</div>"},C=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+I(t)+T(e)+"</table>"},M=function(r){var s,c=this,l=c.config(r);c._onMouseDown=function(t){if(c._v){t=t||window.event;var e=t.target||t.srcElement;if(e)if(u(e,"is-disabled")||(u(e,"pika-button")&&!u(e,"is-empty")?(c.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),l.bound&&o(function(){c.hide(),l.field&&l.field.blur()},100)):u(e,"pika-prev")?c.prevMonth():u(e,"pika-next")&&c.nextMonth()),u(e,"pika-select"))c._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},c._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(u(e,"pika-select-month")?c.gotoMonth(e.value):u(e,"pika-select-year")&&c.gotoYear(e.value))},c._onInputChange=function(n){var i;n.firedBy!==c&&(e?(i=t(l.field.value,l.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),p(i)&&c.setDate(i),c._v||c.show())},c._onInputFocus=function(){c.show()},c._onInputClick=function(){c.show()},c._onInputBlur=function(){var t=i.activeElement;do if(u(t,"pika-single"))return;while(t=t.parentNode);c._c||(c._b=o(function(){c.hide()},50)),c._c=!1},c._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,i=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),a(e,"change",c._onChange)));do if(u(i,"pika-single")||i===l.trigger)return;while(i=i.parentNode);c._v&&e!==l.trigger&&i!==l.trigger&&c.hide()}},c.el=i.createElement("div"),c.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),a(c.el,"mousedown",c._onMouseDown,!0),a(c.el,"touchend",c._onMouseDown,!0),a(c.el,"change",c._onChange),l.field&&(l.container?l.container.appendChild(c.el):l.bound?i.body.appendChild(c.el):l.field.parentNode.insertBefore(c.el,l.field.nextSibling),a(l.field,"change",c._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0)),s=l.defaultDate,p(s)?l.setDefaultDate?c.setDate(s,!0):c.gotoDate(s):c.gotoDate(new Date),l.bound?(this.hide(),c.el.className+=" is-bound",a(l.trigger,"click",c._onInputClick),a(l.trigger,"focus",c._onInputFocus),a(l.trigger,"blur",c._onInputBlur)):this.show()};return M.prototype={config:function(t){var e,n,i;return this._o||(this._o=y({},w,!0)),e=y(this._o,t,!0),e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null,n=parseInt(e.numberOfMonths,10)||1,e.numberOfMonths=n>4?4:n,p(e.minDate)||(e.minDate=!1),p(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),f(e.yearRange)?(i=(new Date).getFullYear()-10,e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i):(e.yearRange=Math.abs(parseInt(e.yearRange,10))||w.yearRange,e.yearRange>100&&(e.yearRange=100)),e},toString:function(n){return p(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,i){e&&t.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),p(t)){var n=this._o.minDate,i=this._o.maxDate;p(n)&&t<n?t=n:p(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=""+this,s(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e,n,i,o=!0;p(t)&&(this.calendars&&(e=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime(),n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),o=i<e.getTime()||n.getTime()<i),o&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars())},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=b({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){v(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth(),this.draw()},setMaxDate:function(t){v(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth(),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){var e,n,i,a,r,s,c,u;if(this._v||t){for(e=this._o,n=e.minYear,i=e.maxYear,a=e.minMonth,r=e.maxMonth,s="",this._y<=n&&(this._y=n,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=i&&(this._y=i,!isNaN(r)&&this._m>r&&(this._m=r)),c=0;c<e.numberOfMonths;c++)s+='<div class="pika-lendar">'+D(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year)+this.render(this.calendars[c].year,this.calendars[c].month)+"</div>";this.el.innerHTML=s,e.bound&&"hidden"!==e.field.type&&o(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw&&(u=this,o(function(){u._o.onDraw.call(u)},0))}},adjustPosition:function(){var t,e,n,o,a,r,s,c,u,l;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,n=this.el.offsetWidth,o=this.el.offsetHeight,a=window.innerWidth||i.documentElement.clientWidth,r=window.innerHeight||i.documentElement.clientHeight,s=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)l=t.getBoundingClientRect(),c=l.left+window.pageXOffset,u=l.bottom+window.pageYOffset;else for(c=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)c+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&c+n>a||this._o.position.indexOf("right")>-1&&c-n+t.offsetWidth>0)&&(c=c-n+t.offsetWidth),(this._o.reposition&&u+o>r+s||this._o.position.indexOf("top")>-1&&u-o-t.offsetHeight>0)&&(u=u-o-t.offsetHeight),this.el.style.left=c+"px",this.el.style.top=u+"px"}},render:function(t,e){var n,i,o,a,r,s,c,u,l,d,f,m,y,b=this._o,w=new Date,x=g(t,e),T=new Date(t,e,1).getDay(),I=[],D=[];for(v(w),b.firstDay>0&&(T-=b.firstDay,T<0&&(T+=7)),n=x+T,i=n;i>7;)i-=7;for(n+=7-i,o=0,a=0;o<n;o++)r=new Date(t,e,1+(o-T)),s=!!p(this._d)&&_(r,this._d),c=_(r,w),u=o<T||o>=x+T,l=b.startRange&&_(b.startRange,r),d=b.endRange&&_(b.endRange,r),f=b.startRange&&b.endRange&&b.startRange<r&&r<b.endRange,m=b.minDate&&r<b.minDate||b.maxDate&&r>b.maxDate||b.disableWeekends&&h(r)||b.disableDayFn&&b.disableDayFn(r),y={day:1+(o-T),month:e,year:t,isSelected:s,isToday:c,isDisabled:m,isEmpty:u,isStartRange:l,isEndRange:d,isInRange:f},D.push(k(y)),7===++a&&(b.showWeekNumber&&D.unshift(E(o-T,e,t)),I.push(S(D,b.isRTL)),D=[],a=0);return C(b,I)},isVisible:function(){return this._v},show:function(){this._v||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(a(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&r(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"touchend",this._onMouseDown,!0),r(this.el,"change",this._onChange),this._o.field&&(r(this._o.field,"change",this._onInputChange),this._o.bound&&(r(this._o.trigger,"click",this._onInputClick),r(this._o.trigger,"focus",this._onInputFocus),r(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},M})},/*!**********************************************!*\
  !*** ./src/components/cart/autocomplete.tag ***!
  \**********************************************/
function(t,e,n){(function(t){"use strict";t.tag2("autocomplete",'<div class="cart-search"> <input type="text" name="acinput" onkeyup="{complete}" class="u-full-width" placeholder="Cari produk di sini... (ctrl+s)" autofocus="true" autocomplete="off"> <ul class="ac" id="aclist" show="{filtered.length}"> <li each="{c, i in filtered}" class="{active: active==i}" onclick="{selected}">{c}</li> </ul>',"","",function(e){var n,i,o=this;this.min=e.min||2,this.filtered=[],this.active=-1,this.mode=e.mode||"start",n=this,this.blur=function(){o.acinput.value="",o.active=-1,o.filtered=[]},i=function(){o.selection(""),o.active=-1,o.filtered=[],o.acinput.value=""},this.complete=function(e){return e.target.value.length<o.min?(o.filtered=[],o.active=-1,!1):(t.control.trigger(t.EVT.cartSearchItem,{text:e.target.value}),40==e.which&&o.filtered.length?(o.active=Math.min(o.active+1,o.filtered.length-1),!1):38==e.which&&o.filtered.length?(o.active=Math.max(o.active-1,0),!1):(13==e.which&&o.filtered.length&&(o.active==-1&&(o.active=0),o.selection(o.filtered[o.active])),void(27==e.which&&i())))},this.re=function(t){return"start"==o.mode?RegExp("^"+t.target.value,"i"):RegExp(t.target.value,"i")},this.selected=function(t){o.selection(t.item.c)},this.selection=function(t){return o.acinput.value=t,""!=t&&n.save(t),!1},this.on("mount",function(){}),this.save=function(e){e||(e=o.acinput.value),t.control.trigger(t.EVT.cartSaveItem,{title:e}),i()},t.control.on(t.EVT.cartEditItemOn,function(t){o.blur(),o.acinput.focus()}),t.control.on(t.EVT.cartSaveItemSuccess,function(t){o.blur(),o.acinput.focus()}),t.control.on(t.EVT.cartUpdateItemSuccess,function(t){o.blur(),o.acinput.focus()}),t.control.on(t.EVT.cartSearchItemSuccess,function(t){o.filtered=_(t).map(function(t){return t.title}).value()}),t.control.on(t.EVT.cartRemoveItemSuccess,function(t){o.acinput.focus()}),t.control.on(t.EVT.cancelCart,function(t){o.acinput.focus()})})}).call(e,n(/*! riot */1))},/*!******************************************!*\
  !*** ./src/components/cart/cartitem.tag ***!
  \******************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("cartitem",'<div class="cart-item"> <div class="row"> <div class="seven columns"><div class="ellipsis" title="{opts.title}">{opts.title}</div><div class="u-text-left"><small>{this.price_}</small></div></div> <div class="two columns u-text-center"> <input type="text" name="qty__" class="u-full-width u-text-center" value="{opts.qty}" min="1" onkeyup="{edit__}" onblur="{edit_}" autocomplete="off" onclick="{focus__}"> </div> <input type="hidden" name="qty_" value="{opts.qty}"> <div class="three columns u-text-right subtotal">{this.subtotal_}</div> </div> </div>',"","",function(n){var i=this;i.on("mount",function(){i.price_=(0,e.addCommas)(n.price),i.subtotal_=(0,e.addCommas)(n.price*n.qty)}),i.remove=function(e){var o=confirm('HAPUS "'+n.title.toUpperCase()+'" ?');return o?void t.control.trigger(t.EVT.cartRemoveItem,n):(e.target.value=i.qty_.value,e.target.select(),!1)},i.edit__=function(e){var o,a;13==e.which&&(o=parseFloat(e.target.value),isNaN(o)||o<=0?i.remove(e):(a={_id:n._id,title:n.title,qty:e.target.value,price:n.price,type:"cartitem",created:n.created},t.control.trigger(t.EVT.cartEditItemOn,a)))},i.edit_=function(t){var e=parseFloat(t.target.value);(isNaN(e)||e<=0)&&(t.target.value=i.qty_.value)},i.focus__=function(t){t.target.setSelectionRange(0,t.target.value.length)}})}).call(e,n(/*! riot */1))},/*!*******************************************!*\
  !*** ./src/components/cart/cartitems.tag ***!
  \*******************************************/
function(t,e,n){(function(t){"use strict";n(/*! ./autocomplete.tag */5),n(/*! ./cartitem.tag */6);var e=n(/*! ../../helper.js */2);t.tag2("cartitems",'<div class="cart"> <div show="{isNewUser || !isProductReady}"> <h3>Pengguna Baru</h3> Untuk memudahkan Anda, lengkapi data-data di bawah ini: </div> <div show="{isNewUser}" style="border-top:1px solid #efefef; margin-top:5px; padding-top:5px"> &raquo; Tentukan Nama Toko kamu di <a href="#configurations">Konfigurasi Toko</a> </div> <div show="{!isProductReady}" style="border-top:1px solid #efefef; margin-top:5px; padding-top:5px"> &raquo; Isi produk yang Anda jual di <a href="#products">Manajemen Produk</a> </div> <div show="{isCartEmpty && isProductReady && !isNewUser}"> <small>Cari <a href="#products">produk</a> pada kotak pencarian di atas terlebih dahulu.</small> </div> <div class="row" each="{item_, index in items}" show="{!isCartEmpty && isProductReady}"> <cartitem _id="{item_._id}" title="{item_.title}" price="{item_.price}" qty="{item_.qty}" created="{item_.created}" index="{index}"></cartitem> </div> </div> <div class="cart-total" show="{!isCartEmpty && isProductReady}"> <div class="cart-total-items"> <div class="row"> <div class="six columns">Total ({total_items} produk)</div> <div class="six columns u-text-right"><span>{total}</span></div> </div> </div> <div class="cart-total-payment"> <div class="row"> <div class="six columns"> <label><u>T</u>unai</label> </div> <div class="six columns"> <input type="text" id="cash" name="cash" class="u-full-width u-text-right {red: isMinus}" value="0" placeholder="Masukkan uang yang diterima di sini..." onkeyup="{updateTotal}" oninput="{oninp}" onclick="{focus__}"> </div> </div> </div> <div class="cart-total-change"> <div class="row"> <div class="four columns"> <label>Kembalian</label> </div> <div class="eight columns u-text-right" id="kembalian"><span class=" {red: isMinus}">{kembalian}</span></div> </div> </div> <div class="cart-total-pay"> <div class="row "> <div class="four columns"> <button class="button u-full-width " tabindex="-1" onclick="{cancel_}">Reset</button> </div> <div class="eight columns u-text-right"> <button class="button button-primary u-full-width cart-total-pay-button" onclick="{bayar}">BAYAR</button> </div> </div> </div> </div>',"",'show="{isReady}"',function(i){var o=n(/*! alerty */3),a=this;a.isReady=!1,a.items=[],a.total=0,a.total_=0,a.total_items=0,a.kembalian=0,a.kembalian_=0,a.cash_=0,a.isMinus=!0,a.isCartEmpty=!1,a.isNewUser=null,a.isProductReady=null,a.on("mount",function(){document.getElementById("preloader").style.display="",t.control.trigger(t.EVT.cartLoadItems)}),a.on("update",function(){var t=0,n=0;_.each(a.items,function(e){t+=parseInt(e.price)*parseInt(e.qty),n++}),a.total_=t,a.total_items=n,a.total_items>0?a.isCartEmpty=!1:(a.isCartEmpty=!0,a.items=[]),a.total=(0,e.addCommas)(a.total_),a.total_items=(0,e.addCommas)(a.total_items),a.isCartEmpty=a.isCartEmpty,a.updateTotal()}),t.control.on(t.EVT.isProductReady,function(t){a.isProductReady=t,a.update()}),t.control.on(t.EVT.cartLoadItemsSuccess,function(e){a.items=e,document.getElementById("preloader").style.display="none",a.isNewUser=t.isNewUser,t.control.trigger(t.EVT.isNewUser,a.isNewUser),a.isReady=!0,a.update()}),t.control.on(t.EVT.cartSaveItemSuccess,function(n){a.items.splice(0,0,n),a.items=(0,e.avoidDup)(a.items),a.update(),t.control.trigger(t.EVT.allowAdd,!0)}),t.control.on(t.EVT.cartUpdateItemSuccess,function(e){var n=_.indexOf(a.items,_.find(a.items,{_id:e._id}));a.items.splice(n,1,e),a.update(),t.control.trigger(t.EVT.allowAdd,!0)}),t.control.on(t.EVT.cartRemoveItemSuccess,function(t){a.items=(0,e.avoidDup)(a.items);var n=_.indexOf(a.items,_.find(a.items,{_id:t._id}));a.items.splice(n,1),a.update()}),t.control.on(t.EVT.cancelCartSuccess,function(t){a.items=t,a.update()}),a.oninp=function(){a.cash_=parseFloat(a.cash.value.replace(/[.]/g,"")),a.cash.value=(0,e.addCommas)(a.cash.value.replace(/[^0-9]/g,""))},a.bayar=function(e){var n,i,r,s,c;if(e.preventDefault(),a.updateTotal(),a.kembalian_<0||isNaN(a.kembalian_))o.toasts("ERROR: Uang kembalian tidak boleh minus!",{place:"top",bgColor:"red",time:2500}),a.cash.focus(),a.cash.select();else{if(n=confirm("SIMPAN TRANSAKSI?"),!n)return!1;i=Math.floor((Date.now()+60*t.timezone*60*1e3)/1e3),r=a.items.map(function(t){return{created:t.created,price:t.price,qty:t.qty,title:t.title,subtotal:t.price*t.qty}}),s=_.sumBy(r,function(t){return t.subtotal}),c={_id:"sales_"+i,created:i,discount:0,payment:"cash",total:s,cash:a.cash_,items:r,type:"sales"},t.control.trigger(t.EVT.salesSave,c)}},a.updateTotal=function(t){return a.kembalian_=parseFloat(a.cash_)-parseFloat(a.total_),a.kembalian=(0,e.addCommas)(a.kembalian_),a.kembalian_<0?a.isMinus=!0:a.isMinus=!1,!(!t||13!=t.which)&&void a.bayar(t)},a.cancel_=function(e){var n=confirm("Reset Penjualan?");return!!n&&void t.control.trigger(t.EVT.cancelCart,{mode:"normal"})},a.hold_=function(t){confirm("Tunda Penjualan?")},t.control.on(t.EVT.salesSaveSuccess,function(e){t.route("print?cid="+e)}),a.focus__=function(t){t.target.setSelectionRange(0,t.target.value.length)}})}).call(e,n(/*! riot */1))},/*!**************************************************!*\
  !*** ./src/components/cart/cartproductitems.tag ***!
  \**************************************************/
function(t,e,n){(function(t){"use strict";n(/*! ../../helper.js */2),t.tag2("cartproductitems",'<span each="{productItems}"> <a href="#" onclick="{select}" class="ellipsis" title="{title}">{title}</a> </span>',"","",function(e){var n,i=this;i.productItems=[],i.price_=0,n=!0,i.on("mount",function(){t.control.trigger(t.EVT.productLoadItems_)}),t.control.on(t.EVT.productLoadItemsSuccess_,function(e){i.productItems=e.docs.map(function(t){return t});var n=_.size(i.productItems);n>0?t.control.trigger(t.EVT.isProductReady,!0):t.control.trigger(t.EVT.isProductReady,!1),i.update()}),i.select=function(e){n===!0&&(n=!1,t.control.trigger(t.EVT.cartSaveItem,{title:e.item.title}))},t.control.on(t.EVT.allowAdd,function(t){n=t})})}).call(e,n(/*! riot */1))},/*!***********************************************!*\
  !*** ./src/components/product/addproduct.tag ***!
  \***********************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("addproduct",'<form style="margin-bottom:0px"> <div class="eight columns"> <input type="text" name="item" class="u-full-width {this.item_error ? \'has-error\' : \'has-success\'}" value="" placeholder="Isi nama produk di sini" oninput="{oninputitem}" onkeyup="{save}"> <small class="hint">*Tekan ⏎ (enter/return) untuk menyimpan</small> </div> <div class="four columns"> <input type="text" id="price" name="price" class="u-full-width u-text-right {this.price_error ? \'has-error\' : \'has-success\'}" value="" placeholder="harga produk" oninput="{oninputprice}" onkeyup="{save}"> </div> </form>',"","",function(i){var o,a=this,r=n(/*! alerty */3),s=13;this.item_error=!0,this.price_error=!0,this.price_=0,this.oninputitem=function(){""!=a.item.value?a.item_error=!1:a.item_error=!0},this.oninputprice=function(){var t=parseFloat(a.price.value);t>0||!isNaN(t)?a.price_error=!1:a.price_error=!0,a.price_=parseFloat(a.price.value.replace(".","")),a.price.value=(0,e.addCommas)(a.price.value.replace(/[^0-9-]/g,""))},o=function(){a.item.value="",a.price.value="0",a.id_edit=!1,a.item.disabled=!1,a.item.focus(),a.update()},this.save=function(e){var n,i=parseFloat(a.price_);e.which===s&&(a.item.value&&i>0&&!isNaN(i)?(n={title:a.item.value,price:i,stock:0},a.is_edit&&(n._id=a.item.idvalue),t.control.trigger(t.EVT.productSaveItem,n),o()):(console.log(a.price.value),""==a.item.value?(r.toasts("ERROR: Nama produk harus diisi!",{place:"top",bgColor:"black",time:2500}),a.item.focus()):(i<=0||isNaN(i))&&(r.toasts("ERROR: Harga harus diisi!",{place:"top",bgColor:"black",time:2500}),a.price.focus())))},this.cancel=function(t){o()},t.control.on(t.EVT.productEditItemOn,function(t){a.is_edit=!0,a.item.value=t.title,a.item.disabled=!0,a.item.idvalue=t._id,a.price.value=t.price,a.stock.value=t.stock,a.item.focus(),a.update()})})}).call(e,n(/*! riot */1))},/*!************************************************!*\
  !*** ./src/components/product/productitem.tag ***!
  \************************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("productitem",'<div class="eight columns product-item-name ellipsis"> <label>{this.title} <small class="green">{⁗✔ updated⁗: this.isUpdated}</small></label> <input type="hidden" name="item_single" value="{this.title}"> </div> <div class="three columns u-text-right product-item-price"> <input type="text" min="1" name="price_single" class="u-full-width u-text-right" value="{price_update_}" onkeyup="{edit}" oninput="{oninputprice_single}"> </div> <div class="one columns u-text-right product-item-price"> <a href="#{this._id}" onclick="{remove}" title="Hapus {this.title}">✖</a> </div>',"","",function(n){var i=this,o=this;this.price_single_=(this.price+"").replace(/[.]/g,""),this.prize_=parseFloat(this.price_single_),o.removed=!1,o.isUpdated=!1,this.on("mount",function(){i.price_update_=(0,e.addCommas)(i.price_single_)}),this.oninputprice_single=function(){var t=parseFloat(i.price_single.value);t>0||!isNaN(t)?i.price_error=!1:i.price_error=!0,i.price_single_=parseFloat(i.price_single.value.replace(/[.]/g,"")),i.price_single.value=(0,e.addCommas)(i.price_single.value.replace(/[^0-9-]/g,""))},this.edit=function(e){var o,a;13==e.which&&(o=i.price_single_,i.item_single.value&&(o>0||!isNaN(o))&&(a={_id:n._id,title:i.item_single.value,price:o,stock:0,created:n.created},t.control.trigger(t.EVT.productSaveItem,a)))},this.remove=function(e){var n,o=confirm('Remove "'+i.title+'" ?');return 1==o&&(n={_id:i._id},void t.control.trigger(t.EVT.productRemoveItem,n))}})}).call(e,n(/*! riot */1))},/*!*************************************************!*\
  !*** ./src/components/product/productitems.tag ***!
  \*************************************************/
function(t,e,n){(function(t){"use strict";n(/*! ./productitem.tag */10),t.tag2("productitems",'<div class="product-search"> <input type="text" name="search" class="u-full-width" value="" placeholder="Masukkan kata yang ingin dicari dan tekan ⏎" onblur="{blur2}" onkeyup="{s}"> </div> <div class="product-item"> <small class="hint">*Tekan ⏎ untuk menyimpan data yang dimodifikasi.</small><br> <div class="row" each="{productItems}"> <productitem title="{title}" price="{price}" stock="{stock}" _id="{_id}"></productitem> </div> <div class="pagination u-text-center"> <ul> <li each="{countItems}" class="{active: done}"> <a href="./#products?page={id}">{id}</a> </li> </ul> </div> </div>',"","",function(e){var i,o,a=this,r=n(/*! alerty */3);this.productItems=[],this.countItems=[],this.q=[],i=t.route.query(),this.on("mount",function(){i.page||(i.page=1),document.getElementById("preloader").style.display="",t.control.trigger(t.EVT.productLoadItems,{page:i.page})}),t.control.on(t.EVT.productLoadItemsSuccess,function(e){a.productItems=e.docs.map(function(t){return t});var n=_.range(0,e.total_rows/t.pageSize);a.countItems=_.map(n,function(t,e){return{id:e+1,done:i.page==e+1}}),document.getElementById("preloader").style.display="none",a.update()}),t.control.on(t.EVT.productSaveItemSuccess,function(t){a.productItems.splice(0,0,t),r.toasts("SUCCESS: Produk baru berhasil ditambahkan",{place:"top",bgColor:"#FF8552",time:2500}),a.update()}),t.control.on(t.EVT.productUpdateItemSuccess,function(t){var e=_.indexOf(a.productItems,_.find(a.productItems,{_id:t._id}));a.productItems.splice(e,1,t),a.update()}),t.control.on(t.EVT.productRemoveItemSuccess,function(t){var e=_.indexOf(a.productItems,_.find(a.productItems,{_id:t._id}));parseFloat(e)>-1&&a.productItems.splice(e,1),r.toasts("REMOVE SUCCESS: Produk berhasil dihapus",{place:"top",bgColor:"#FF8552",time:2500}),a.update()}),o=function(e){t.control.trigger(t.EVT.productSearchItem,{text:e})},this.s=function(t){13==t.which&&o(t.target.value)},t.control.on(t.EVT.productSearchItemSuccess,function(t){a.productItems=t,a.countItems=[],a.update()}),this.clearAction=function(t){a.search.value="",a.search.focus(),o("")},t.control.on(t.EVT.productUpdateItemSuccess,function(t){var e=_.indexOf(a.productItems,_.find(a.productItems,{_id:t._id}));_.assign(a.productItems[e],{isUpdated:!0}),a.update()})})}).call(e,n(/*! riot */1))},/*!********************************************!*\
  !*** ./src/components/sales/salesitem.tag ***!
  \********************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("salesitem",'<div class="row sales-item-summary"> <div class="seven columns sales-item-date" onclick="{toggle}"> {this.created_}<br><small>({this.itemTotal} produk)</small> </div> <div class="four columns u-text-right sales-item-total" onclick="{toggle}"> {this.grandtotal_} </div> <div class="one columns"><a href="#print?sid={this._id}">🖨</a></div> </div> <div class="sales-item-detail" show="{this.isDetail}"> <div class="row" each="{this.items}"> <div class="seven columns sales-item-number ellipsis"> <small>&nbsp;➜ {title} // {price} x {qty}</small> </div> <div class="four columns u-text-right"><small>{price*qty}</small></div> <div class="one columns">&nbsp;</div> </div> </div>',"","",function(t){var n=this;this.isDetail=!1,this.on("update",function(){n.created_=(0,e.formattedTime)(n.created),n.grandtotal_=(0,e.addCommas)(n.total),n.itemTotal=n.items.length}),this.toggle=function(t){n.isDetail=!n.isDetail,n.update()}})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/pages/about.tag ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";t.tag2("about",'<div class="container about"> <div class="row"> <div class="twelve columns"> <h3>AlBarokah {version} </h3> <p>AlBarokah adalah aplikasi POS Retail didedikasikan untuk UKM (Usaha Kecil Menengah).</p> Keunggulan AlBarokah: <ul> <li><u>Murah</u>; Tanpa internet; Tanpa install server</li> <li><u>Mudah</u>; Multi platform (Windows, Linux, Mac);</li> </ul> <hr> <p>Bantu kami untuk mengembangkan AlBarokah dengan <a href="https://github.com/klanjabrik/albarokah/issues" target="_blank">mengirimkan <i>error</i>/<i>bugs</i> &amp; untuk mendapatkan informasi versi terbaru&raquo;</a></p> </div> </div> </div>',"","",function(e){var n=this;this.on("mount",function(){n.version=t.AppVersion,n.update()})})}).call(e,n(/*! riot */1))},/*!**************************************!*\
  !*** ./src/pages/configurations.tag ***!
  \**************************************/
function(t,e,n){(function(t){"use strict";t.tag2("configurations",'<div class="container conf"> <div class="row"> <div class="twelve columns"> <h3>Konfigurasi</h3> <h6>Nama Toko</h6> <input type="text" name="shopName" class="u-full-width" value="{shopname}" placeholder="Nama toko" autofocus="true" oninput="{edit}"> <h6>Timezone (UTC)</h6> <select onchange="{edit_timezone}" id="timezone_select"> <option each="{timezoneData}" value="{hourdiff}" __selected="{selected}">UTC {hourdiff > 0 ? \'+\'+hourdiff : hourdiff}</option> </select> </select> <h6>Gambar Latar Belakang</h6> <p>Ganti gambar latar belakang dengan mengganti <em>file</em> <u>background.jpg</u> file. </p> </div> </div> </div>',"","",function(e){var i=this,o=n(/*! alerty */3);this.shopname=t.shopname,this.timezoneData=[],this.on("mount",function(){t.control.trigger(t.EVT.shopLoadData)}),t.control.on(t.EVT.shopLoadDataSuccess,function(e){t.shopname=e.name?e.name:t.shopname,t.timezone=e.timezone?e.timezone:t.timezone,i.shopname=t.shopname,i.timezoneData=[{hourdiff:-12,selected:t.timezone==-12},{hourdiff:-11,selected:t.timezone==-11},{hourdiff:-10,selected:t.timezone==-10},{hourdiff:-9,selected:t.timezone==-9},{hourdiff:-8,selected:t.timezone==-8},{hourdiff:-7,selected:t.timezone==-7},{hourdiff:-6,selected:t.timezone==-6},{hourdiff:-5,selected:t.timezone==-5},{hourdiff:-4,selected:t.timezone==-4},{hourdiff:-3.5,selected:t.timezone==-3.5},{hourdiff:-3,selected:t.timezone==-3},{hourdiff:-2,selected:t.timezone==-2},{hourdiff:-1,selected:t.timezone==-1},{hourdiff:0,selected:0==t.timezone},{hourdiff:1,selected:1==t.timezone},{hourdiff:2,selected:2==t.timezone},{hourdiff:3,selected:3==t.timezone},{hourdiff:4,selected:4==t.timezone},{hourdiff:4.5,selected:4.5==t.timezone},{hourdiff:5,selected:t.timezone==-5},{hourdiff:5.5,selected:5.5==t.timezone},{hourdiff:5.75,selected:5.75==t.timezone},{hourdiff:6,selected:6==t.timezone},{hourdiff:6.5,selected:6.5==t.timezone},{hourdiff:7,selected:7==t.timezone},{hourdiff:8,selected:8==t.timezone},{hourdiff:9,selected:9==t.timezone},{hourdiff:9.5,selected:9.5==t.timezone},{hourdiff:10,selected:10==t.timezone},{hourdiff:11,selected:11==t.timezone},{hourdiff:12,selected:12==t.timezone},{hourdiff:13,selected:13==t.timezone}],i.update()}),this.edit=function(e){e.target.value,document.getElementById("home").innerHTML=e.target.value,t.control.trigger(t.EVT.shopSaveName,e.target.value),t.isNewUser=!1},this.edit_timezone=function(e){var n=document.getElementById("timezone_select").options[e.target.selectedIndex].value;t.timezone=n,t.control.trigger(t.EVT.shopSaveTimezone,n),t.isNewUser=!1},t.control.on(t.EVT.shopSaveSuccess,function(t){o.toasts("SUCCESS: Konfigurasi berhasil diperbaharui",{place:"top",bgColor:"#FF8552",time:2500}),i.update()}),t.control.on(t.EVT.shopUpdateSuccess,function(t){o.toasts("SUCCESS: Konfigurasi berhasil diperbaharui",{place:"top",bgColor:"#FF8552",time:2500}),i.update()})})}).call(e,n(/*! riot */1))},/*!********************************!*\
  !*** ./src/pages/database.tag ***!
  \********************************/
function(t,e,n){(function(t){"use strict";t.tag2("database",'<div class="container conf"> <div class="row"> <div class="twelve columns"> <h3>Database</h3> <p>File CSV digunakan untuk aplikasi excel (spreadsheet), sedangkan file JSON digunakan untuk export import data antar aplikasi ALBarokah.</p> <hr> <ul> <li>Export Produk:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> <li>Export Penjualan:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> </ul> <hr> <ul> <li>Import Produk:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> <li>Import Penjualan:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> </ul> </div> </div> </div>',"","",function(t){})}).call(e,n(/*! riot */1))},/*!****************************!*\
  !*** ./src/pages/help.tag ***!
  \****************************/
function(t,e,n){(function(t){"use strict";t.tag2("help",'<div class="container about"> <div class="row"> <div class="twelve columns"> <h3>Panduan</h3> <h6>1. Bagaimana menghapus produk yang sudah diinput di <a href="#home">kasir</a>?</h6> <p>Fokuskan cursor pada kotak isian jumlah, kemudian ketikkan angka 0 (nol), lalu tekan enter/return.</p> <hr> <h6>2. Bagaimana melihat produk-produk yang dibeli pada suatu <a href="#sales">penjualan</a>?</h6> <p>Tekan area pada baris penjualan yang dimaksud.</p> <hr> <h6>3. Export data penjualan ke excel?</h6> <p>Masuk ke halaman <a href="#sales">Penjualan</a>, kemudian pilih tanggal penjualan, setelah itu <em>klik</em> tautan Simpan CSV.</p> </div> </div> </div>',"","",function(t){})}).call(e,n(/*! riot */1))},/*!****************************!*\
  !*** ./src/pages/home.tag ***!
  \****************************/
function(t,e,n){(function(t){"use strict";n(/*! ../components/cart/cartitems.tag */7),n(/*! ../components/cart/cartproductitems.tag */8),n(/*! ../helper.js */2),t.tag2("home",'<div class="container pos"> <div class="row"> <div class="seven columns pos-cart-column"> <div class="pos-cart"> <div class="wrap_autocomplete" show="{!isNewUser && isProductReady}"> <autocomplete min="1" mode="contains"></autocomplete> </div> <cartitems></cartitems> </div> </div> <div class="five columns pos-product-column"> <div class="pos-product"> <div class="row title"> <div class="six columns caption"> Daftar Produk </div> <div class="six columns u-text-right"> <a href="#products">➕</a> </div> </div> <div class="pos-product-item"> <cartproductitems></cartproductitems> </div> </div> </div> </div> </div> </div>',"","",function(e){var n=this;n.isNewUser=t.isNewUser,n.isProductReady=!1,t.control.on(t.EVT.isProductReady,function(t){n.isProductReady=t,n.update()}),t.control.on(t.EVT.isNewUser,function(t){n.isNewUser=t,n.update()})})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/pages/print.tag ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../helper.js */2);t.tag2("print",'<div class="container pos-print"> <div class="row"> <div class="twelve columns"> <div class="pos-cart"> <table width="100%" class="pos-print"> <caption> {shopname} <hr> </caption> <thead> <tr> <td><strong>Barang</strong></td> <td class="u-text-center"><strong>Jumlah</strong></td> <td class="u-text-right"><strong>Harga</strong></td> <td class="u-text-right"><strong>Subtotal</strong></td> </tr> </thead> <tbody> <tr each="{salesItems}"> <td>{title}</td> <td class="u-text-center">{qty}</td> <td class="u-text-right">{price}</td> <td class="u-text-right">{subtotal}</td> </tr> </tbody> <tfoot> <tr> <td colspan="3"><strong>Total</strong></td> <td class="u-text-right"><strong>{total}</strong></td> </tr> <tr> <td colspan="3"><strong>Disc ({disc}%)</strong></td> <td class="u-text-right"><strong>{disctotal}</strong></td> </tr> <tr> <td colspan="3"><strong>Grand Total</strong></td> <td class="u-text-right"><strong>{grandtotal}</strong></td> </tr> <tr> <td colspan="1">Dibayar tunai: {cash}</td> <td colspan="3" class="u-text-right">Kembalian: {kembalian}</td> </tr> <tr> <td colspan="4" class="u-text-center">{created}<br>Terima kasih atas kunjungan Anda.</td> </tr> </tfoot> </table> <table width="100%" class="pos-print-action"> <tr> <td class="u-text-center"><a href="#" onclick="window.print();" class="button button-primary u-full-width">Web Print</a></td> </tr> </table> </div> </div> </div> </div>',"","",function(n){var i=this;this.salesItems=[],this.total=0,this.disc=0,this.disctotal=0,this.grandtotal=0,this.cash=0,this.kembalian=0,this.created="",this.ready=!1,this.shopname=t.shopname,this.on("mount",function(){var e=t.route.query();void 0!==e.cid?(console.log("cart"),t.control.trigger(t.EVT.cancelCart,"print"),t.control.trigger(t.EVT.salesGet,e.cid)):void 0!==e.sid&&(console.log("sales"),t.control.trigger(t.EVT.salesGet,e.sid))}),this.on("update",function(){i.shopname=t.shopname}),this.on("updated",function(){i.ready&&(i.ready=!1,window.print())}),t.control.on(t.EVT.salesGetSuccess,function(t){var n,o;i.salesItems=t.items,i.total=(0,e.addCommas)(t.total),i.disc=t.discount,n=t.total*(t.discount/100),i.disctotal=(0,e.addCommas)(n),o=t.total-n,i.grandtotal=(0,e.addCommas)(o),i.cash=(0,e.addCommas)(t.cash),i.kembalian=(0,e.addCommas)(t.cash-o),i.ready=!0,i.created=(0,e.formattedTime)(t.created),i.update()}),this.backpage=function(t){window.history.go(-1)}})}).call(e,n(/*! riot */1))},/*!********************************!*\
  !*** ./src/pages/products.tag ***!
  \********************************/
function(t,e,n){(function(t){"use strict";n(/*! ../components/product/addproduct.tag */9),n(/*! ../components/product/productitems.tag */11),t.tag2("products",'<div class="container products"> <div class="row"> <div class="twelve columns"> <h3>Produk</h3> <h6>Tambah Produk</h6> <div class="row product-add"> <addproduct></addproduct> </div> <br> <h6>Daftar Produk</h6> <div class="product-items"> <productitems></productitems> </div> </div> </div> </div>',"","",function(t){})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/pages/sales.tag ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";n(/*! ../components/sales/salesitem.tag */12);var e=n(/*! ../helper.js */2);t.tag2("sales",'<div class="container sales"> <div class="row"> <div class="twelve columns"> <h3>Penjualan</h3> <div class="sales-items"> <div class="sales-search row"> <div class="twelve columns"> <input type="text" id="datepicker" class="u-full-width" placeholder="Filter tanggal penjualan"> </div> </div> <div class="sales-item"> <div class="row sales-item-grandtotal"> <div class="six columns"><strong>Grand Total {currentDateLabel}</strong></div> <div class="six columns u-text-right"><span>{salesTotal}</span></div> </div> <br> <div class="row"> <div class="six columns"> <h6>Rincian Penjualan</h6> </div> <div class="six columns u-text-right"> <a href="javascript:void 0" onclick="{exportCsv}">💾 &nbsp;Simpan CSV</a> </div> </div> <div class="row sales-item-header" if="{!no_data}"> <div class="seven columns sales-item-date"> <strong>Waktu</strong> </div> <div class="four columns u-text-right sales-item-total"> <strong>Total</strong> </div> <div class="one columns sales-item-number"> &nbsp; </div> </div> <salesitem each="{salesItems}" data="{this}"></salesitem> <div if="{no_data}"> <p>🛍&nbsp;&nbsp;Belum ada data penjualan.</p> </div> <div class="pagination u-text-center"> <ul> <li each="{countItems}" class="{active: done}"> <a href="./#sales?page={id}&amp;date={currentDate}">{id}</a> </li> </ul> </div> </div> </div> </div> </div> </div>',"","",function(i){var o,a,r,s,c,u,l=this,d=n(/*! alerty */3),f=n(/*! pikaday */4);this.salesItems=[],this.countItems=[],this.no_data=!1,this.salesTotal=0,this.currentDate=Math.floor(Date.now()/1e3),this.currentPage=1,this.currentDateLabel="",o=t.route.query(),this.on("mount",function(){new f({field:document.getElementById("datepicker"),format:"DD/MMMM/YYYY",onSelect:function(t){var e=new Date(t),n="0"+e.getDate(),i="0"+(e.getMonth()+1),o=e.getFullYear(),s=o+"-"+i.substr(-2)+"-"+n.substr(-2);console.log(s),r(new Date(s).getTime()/1e3),a()}}),o.page||(o.page=l.currentPage),o.date||(o.date=l.currentDate),c(o.page),r(o.date),a()}),a=function(){document.getElementById("preloader").style.display="";var e={page:u(),date:s()};t.control.trigger(t.EVT.salesLoadItems,{page:e.page,date:e.date}),t.control.trigger(t.EVT.salesTotal,e.date)},t.control.on(t.EVT.salesLoadItemsSuccess,function(e){l.salesItems=e.docs.map(function(t){return t});var n=_.range(0,e.total_rows/t.pageSize);l.countItems=_.map(n,function(t,e){return{id:e+1,done:o.page==e+1}}),document.getElementById("preloader").style.display="none",l.update()}),t.control.on(t.EVT.salesTotalSuccess,function(t){l.salesTotal=(0,e.addCommas)(t),l.currentDateLabel=(0,e.formattedTime)(s(),!0),t>0?l.no_data=!1:l.no_data=!0,l.update()}),r=function(t){l.currentDate=t},s=function(){return l.currentDate},c=function(t){l.currentPage=t},u=function(){return l.currentPage},this.exportCsv=function(t){var n,i,o,a,r,c,u;return _.size(l.salesItems)<=0?(d.toasts("ERROR: Data penjualan kosong",{place:"top",bgColor:"black",time:2500}),!1):(n="Nomor, Tanggal, Produk, Jumlah, Harga, Sub Total\n",i="data:text/csv;charset=utf-8,",i+=n,o=[],a=0,_.each(l.salesItems,function(t,n){var o="",r=t._id,s=(0,e.formattedTime)(t.created);_.each(t.items,function(t,e){a+=parseFloat(t.subtotal),o+=r+", "+s+", "+t.title+", "+t.qty+", "+t.price+", "+t.subtotal+"\n"}),i+=o}),r=", , , , , "+a,i+=r,c=encodeURI(i),u=document.createElement("a"),u.setAttribute("href",c),u.setAttribute("download","sales_"+(0,e.formattedTime)(s(),!0)+".csv"),document.body.appendChild(u),void u.click())}})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/event-helper.js ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var i,o=n(/*! riotcontrol */28),a=e(o);t.control=a["default"],t.EVT={shopLoadData:"shop_load_name",shopLoadDataSuccess:"shop_load_name_success",shopSaveSuccess:"shop_save_success",shopUpdateSuccess:"shop_update_success",shopSaveData:"shop_save_data",shopSaveName:"shop_save_name",shopSaveTimezone:"shop_save_timezone",productLoadItems:"product_load_items",productLoadItemsSuccess:"product_load_items_success",productLoadItems_:"product_load_items_",productLoadItemsSuccess_:"product_load_items_success_",productSaveItem:"product_save_item",productSaveItemSuccess:"product_save_item_success",productEditItemOn:"product_edit_item_on",productUpdateItemSuccess:"product_update_item_success",productRemoveItem:"product_remove_item",productRemoveItemSuccess:"product_remove_item_success",productSearchItem:"product_search_product",productSearchItemSuccess:"product_search_product_success",cartLoadItems:"cart_load_items",cartLoadItemsSuccess:"cart_load_items_success",cartSaveItem:"cart_save_items",cartSaveItemSuccess:"cart_save_item_success",cartEditItemOn:"cart_edit_item_on",cartUpdateItemSuccess:"cart_update_item_success",cartRemoveItem:"cart_remove_item",cartRemoveItemSuccess:"cart_remove_item_success",cartSearchItem:"cart_search_item",cartSearchItemSuccess:"cart_search_item_success",cancelCart:"cancel_cart",cancelCartSuccess:"cancel_cart_success",cancelCartPrintSuccess:"cancel_cart_print_success",salesSave:"sales_save",salesSaveSuccess:"sales_save_success",salesGet:"sales_get",salesGetSuccess:"sales_get_success",salesLoadItems:"sales_load_items",salesLoadItemsSuccess:"sales_load_items_success",salesTotal:"sales_total",salesTotalSuccess:"sales_total_success",salesSearchItem:"sales_search",salesSearchItemSuccess:"sales_search_success",clearDb:"clear_db",clearDbSuccess:"clear_db_success",isProductReady:"is_product_ready",isNewUser:"is_new_user",allowAdd:"allow_add",focusQty:"focus_qty"},i=new PouchDB("albarokah"),t.db=i,t.AppVersion="2.1",t.pageSizeProductCart=20,t.pageSize=50,t.offset=t.pageSize,t.timezone=7,t.shopname="البركة",t.isNewUser=!1}).call(e,n(/*! riot */1))},/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var i,o,a;n(/*! ./event-helper */21),n(/*! ./stores/shopstore */27),n(/*! ./stores/cartstore */24),n(/*! ./stores/productstore */25),n(/*! ./stores/salestore */26),n(/*! ./router.js */23),i=n(/*! pikaday */4),o=e(i),a={map:function(t){"shop"==t.type&&emit(t.value,null)}},t.db.query(a,{include_docs:!1}).then(function(e){e.total_rows>0?(e.rows.map(function(e){"shop_name"===e.id?(t.shopname=e.key,document.getElementById("home").innerHTML=t.shopname):"shop_timezone"===e.id&&(t.timezone=e.key)}),t.isNewUser=!1):t.isNewUser=!0})["catch"](function(t){console.log(t)}),Mousetrap.bindGlobal("ctrl+1",function(){document.getElementById("home").click()}),Mousetrap.bindGlobal("ctrl+p",function(){t.route("products")}),Mousetrap.bindGlobal("ctrl+r",function(){t.route("sales")}),Mousetrap.bindGlobal("ctrl+s",function(){document.querySelector('[name="acinput"]').focus()}),Mousetrap.bindGlobal("ctrl+t",function(){document.querySelector('[name="cash"]').focus(),document.querySelector('[name="cash"]').select()}),Mousetrap.bindGlobal("ctrl+m",function(){document.getElementById("myDropdown"),document.getElementsByClassName("dropbtn")[0].focus(),document.getElementById("myDropdown").classList.toggle("show")})}).call(e,n(/*! riot */1))},/*!***********************!*\
  !*** ./src/router.js ***!
  \***********************/
function(t,e,n){(function(i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,r;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var n,i;for(n=0;n<e.length;n++)i=e[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),n(/*! ./pages/home.tag */17),n(/*! ./pages/products.tag */19),n(/*! ./pages/print.tag */18),n(/*! ./pages/sales.tag */20),n(/*! ./pages/help.tag */16),n(/*! ./pages/about.tag */13),n(/*! ./pages/configurations.tag */14),n(/*! ./pages/database.tag */15),i.routeState={view:""},r=function(){function t(){o(this,t),this._currentView=null,this._views=["home","products","print","sales","configurations","database","help","about"],this._defaultView="home",i.route.start(!1),i.route(this._handleRoute.bind(this)),i.route.exec(this._handleRoute.bind(this))}return a(t,[{key:"_handleRoute",value:function(t){return this._views.indexOf(t)===-1?i.route(this._defaultView):void this._loadView(t)}},{key:"_loadView",value:function(t){this._currentView&&this._currentView.unmount(!0),document.title="Point of Sales // "+t.toUpperCase(),i.routeState.view=t,this._currentView=i.mount("#riot-app",t)[0]}}]),t}(),e["default"]=new r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!*********************************!*\
  !*** ./src/stores/cartstore.js ***!
  \*********************************/
function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,a,r;Object.defineProperty(e,"__esModule",{value:!0}),o=function(){function t(t,e){var n,i;for(n=0;n<e.length;n++)i=e[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),n.observable(this),this.cartItems=[],this.db=n.db,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){var t=this,e=this,i=function(e){t.cartItems=e,t.trigger(n.EVT.cartLoadItemsSuccess,t.cartItems)},o=function(){t.db.destroy("todos").then(function(){e.db=new PouchDB("todos")}),t.trigger(n.EVT.clearDbSuccess,[])},a=function(){e.db.allDocs({startkey:"cartitem_",endkey:"cartitem_￿"}).then(function(t){return Promise.all(t.rows.map(function(t){return e.db.remove(t.id,t.value.rev)}))}).then(function(){})["catch"](function(t){})},r=function(){e.db.createIndex({index:{fields:["created","type"],name:"mycartindex",ddoc:"mydesigndoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gt:0},type:"cartitem"},fields:["created","price","type","title","qty","_id"],sort:[{created:"desc"}]}).then(function(t){i(t.docs.map(function(t){return t}))})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mycartindex"==t.name&&e.db.deleteIndex({name:"mycartindex",ddoc:t.ddoc})})})["catch"](function(t){})})},s=function(i){t.db.put(i,function(t,o){t?409==t.status?c(i,{mode:"inc",qty:1}):console.log(t):e.trigger(n.EVT.cartSaveItemSuccess,i)})},c=function(i,o){t.db.get(i._id).then(function(t){return i._rev=t._rev,o.qty&&("inc"==o.mode?i.qty=parseInt(t.qty)+parseInt(o.qty):i.qty=parseInt(o.qty)),_.remove(i,{_rev:i._rev}),e.trigger(n.EVT.cartUpdateItemSuccess,i),e.db.put(i)})["catch"](function(t){409===t.status&&console.log(t)})},u=function(i){t.db.get(i._id).then(function(t){return i._rev=t._rev,e.db.remove(i),e.trigger(n.EVT.cartRemoveItemSuccess,i)})["catch"](function(t){return 409!==t.status?e.db.remove(i):void console.log(t)})},l=function(i){var o=i.text,a=RegExp(o,"i");t.db.find({selector:{type:"item",title:{$regex:a}}}).then(function(t){e.trigger(n.EVT.cartSearchItemSuccess,t.docs)})["catch"](function(t){console.log(t)})};this.on(n.EVT.cartLoadItems,function(){r()}),this.on(n.EVT.cartRemoveItem,function(t){u(t)}),this.on(n.EVT.cartSaveItem,function(e){var n,i,o=e.title;o=o.replace(/\W/g,""),n=Math.floor(Date.now()/1e3),i={_id:"cartitem_"+o,title:e.title,qty:1,type:"cartitem",created:n},t.db.get("item_"+o).then(function(t){i.price=t.price,s(i)})["catch"](function(t){409===t.status?console.log(t):console.log(t)})}),this.on(n.EVT.clearDb,function(){o()}),this.on(n.EVT.cartSearchItem,function(t){l(t)}),this.on(n.EVT.cancelCart,function(e){a(),e.print||t.trigger(n.EVT.cancelCartSuccess,[])}),this.on(n.EVT.cartEditItemOn,function(t){c(t,{qty:t.qty})})}}]),t}(),r=new a,n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!************************************!*\
  !*** ./src/stores/productstore.js ***!
  \************************************/
function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,a,r;Object.defineProperty(e,"__esModule",{value:!0}),o=function(){function t(t,e){var n,i;for(n=0;n<e.length;n++)i=e[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),n.observable(this),this.productItems=[],this.db=n.db,this.edit_id=!1,this.pageSizeCart=n.pageSizeProductCart,this.pageSize=n.pageSize,this.offset=n.offset,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){var t=this,e=this,i=function(e){t.trigger(n.EVT.productLoadItemsSuccess,e)},o=function(){e.db.createIndex({index:{fields:["title","type"],name:"myproductcartindex",ddoc:"myproductcartdoc",type:"json"}}).then(function(){return e.db.find({selector:{title:{$gt:0},type:"item"},fields:["created","price","type","title","_id"],sort:[{title:"asc"}],limit:e.pageSizeCart,skip:0,include_docs:!0}).then(function(t){e.trigger(n.EVT.productLoadItemsSuccess_,t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"myproductcartindex"==t.name&&e.db.deleteIndex({name:"myproductcartindex",ddoc:t.ddoc})})})["catch"](function(t){})})},a=function(){e.db.createIndex({index:{fields:["created","type"],name:"myproductindex",ddoc:"myproductdoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gt:0},type:"item"},fields:["created","price","type","title","_id"],sort:[{created:"desc"}],limit:e.pageSize,skip:e.offset,include_docs:!0}).then(function(t){i(t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"myproductindex"==t.name&&e.db.deleteIndex({name:"myproductindex",ddoc:t.ddoc})})})["catch"](function(t){})})},r=function(e){t.db.put(e,function(t,i){t?console.log(t):this.trigger(n.EVT.productSaveItemSuccess,e)}.bind(t))},s=function(i){t.db.get(e.edit_id).then(function(t){return i._rev=t._rev,this.db.put(i)})["catch"](function(t){return 409!==t.status?(e.edit_id=!1,this.trigger(n.EVT.productUpdateItemSuccess,i),this.db.put(i)):void console.log(t)}.bind(t))},c=function(i){t.db.get(i._id).then(function(t){return i._rev=t._rev,e.db.remove(i),e.trigger(n.EVT.productRemoveItemSuccess,i)})["catch"](function(t){return 409!==t.status?e.db.remove(i):void console.log(t)})},u=function(t){var i=t.text,o=RegExp(i,"i");e.db.createIndex({index:{fields:["title","type"],name:"mysearchproductindex",ddoc:"mysearchproductdoc",type:"json"}}).then(function(){return e.db.find({selector:{title:{$regex:o},type:"item"},fields:["title","type","created","price","_id"],limit:e.pageSize,include_docs:!0}).then(function(t){e.trigger(n.EVT.productSearchItemSuccess,t.docs)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mysearchproductindex"==t.name&&e.db.deleteIndex({name:"mysearchproductindex",ddoc:t.ddoc})})})["catch"](function(t){})})};this.on(n.EVT.productLoadItems_,function(){o()}),this.on(n.EVT.productLoadItems,function(e){try{t.offset=(parseFloat(e.page)-1)*t.pageSize}catch(i){t.offset=n.offset}a()}),this.on(n.EVT.productRemoveItem,function(t){c(t)}),this.on(n.EVT.productSaveItem,function(t){var i,o,a;t._id&&(e.edit_id=t._id),i=t.title,i=i.replace(/\W/g,""),o=Math.floor((Date.now()+60*n.timezone*60*1e3)/1e3),a={_id:"item_"+i,title:t.title,price:t.price,stock:t.stock,type:"item",created:o},e.edit_id?s(a):r(a)}),this.on(n.EVT.productSearchItem,function(t){u(t)})}}]),t}(),r=new a,n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!*********************************!*\
  !*** ./src/stores/salestore.js ***!
  \*********************************/
function(t,e,n){(function(i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a,r,s,c;Object.defineProperty(e,"__esModule",{value:!0}),a=function(){function t(t,e){var n,i;for(n=0;n<e.length;n++)i=e[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(/*! ../helper.js */2),s=function(){function t(){o(this,t),i.observable(this),this.productItems=[],this.db=i.db,this.pageSize=i.pageSize,this.offset=i.offset,this.bindEvents()}return a(t,[{key:"bindEvents",value:function(){var t=this,e=this,n=function(e){t.trigger(i.EVT.salesLoadItemsSuccess,e)},o=function(e){var n=_.sumBy(e.docs,function(t){return t.total});t.trigger(i.EVT.salesTotalSuccess,n)},a=function(e){t.db.put(e,function(t,n){t?console.log(t):this.trigger(i.EVT.salesSaveSuccess,e._id)}.bind(t))},s=function(n){t.db.allDocs({startkey:n,endkey:n+"￿",include_docs:!0}).then(function(t){e.trigger(i.EVT.salesGetSuccess,t.rows[0].doc)})["catch"](function(t){console.log(t)})},c=function(t){var i=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 00:00:00"),o=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 23:59:00");e.db.createIndex({index:{fields:["created","type"],name:"mysalesindex",ddoc:"mysalestdoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gt:i,$lt:o},type:"sales"},fields:["created","discount","type","payment","_id","total","cash","items"],sort:[{created:"desc"}],limit:e.pageSize,skip:e.offset,include_docs:!0}).then(function(t){n(t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mysalesindex"==t.name&&e.db.deleteIndex({name:"mysalesindex",ddoc:t.ddoc})})})["catch"](function(t){})})},u=function(t){var n=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 00:00:00"),i=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 23:59:00");e.db.createIndex({index:{fields:["created","type"],name:"mysalestotalindex",ddoc:"mysalestotaldoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gte:n,$lte:i},type:"sales"},fields:["created","type","total"],sort:[{created:"desc"}],include_docs:!0}).then(function(t){o(t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mysalestotalindex"==t.name&&e.db.deleteIndex({name:"mysalestotalindex",ddoc:t.ddoc})})})["catch"](function(t){})})},l=function(n){var o=n.text,a=RegExp(o,"i");t.db.find({selector:{type:"sales",title:{$regex:a}}}).then(function(t){console.log(t.docs),e.trigger(i.EVT.salesSearchItemSuccess,t.docs)})["catch"](function(t){console.log(t)})};this.on(i.EVT.salesSave,function(t){a(t)}),this.on(i.EVT.salesLoadItems,function(e){e.page&&(t.offset=(parseFloat(e.page)-1)*t.pageSize),c(e.date)}),this.on(i.EVT.salesSearchItem,function(t){l(t)}),this.on(i.EVT.salesGet,function(t){s(t)}),this.on(i.EVT.salesTotal,function(t){u(t)})}}]),t}(),c=new s,i.control.addStore(c),e["default"]=c,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!*********************************!*\
  !*** ./src/stores/shopstore.js ***!
  \*********************************/
function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,a,r;Object.defineProperty(e,"__esModule",{value:!0}),o=function(){function t(t,e){var n,i;for(n=0;n<e.length;n++)i=e[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),n.observable(this),this.productItems=[],this.db=n.db,this.edit_id=!1,this.pageSize=n.pageSize,this.offset=n.offset,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){var t=this,e=this,i=function(){var i={map:function(t){"shop"==t.type&&emit(t.value,null)}};t.db.query(i,{include_docs:!1}).then(function(t){var i,o,a,r,s=[];s=t.rows.map(function(t){return"shop_name"===t.id?{name:t.key}:"shop_timezone"===t.id?{timezone:t.key}:void 0}),i=[];for(o in t.rows)a=t.rows[o].id,r=t.rows[o].key,"shop_name"===a&&(i.name=r),"shop_timezone"===a&&(i.timezone=r);e.trigger(n.EVT.shopLoadDataSuccess,i)})["catch"](function(t){console.log(t)})},o=function(i){t.db.put(i,function(t,o){t?409==t.status?a(i,{value:i.value}):console.log(t):e.trigger(n.EVT.shopSaveSuccess,i.value)})},a=function(i,o){t.db.get(i._id).then(function(t){return i._rev=t._rev,i.value=o.value,e.trigger(n.EVT.shopUpdateSuccess,i.value),e.db.put(i)})["catch"](function(t){return 409!==t.status?e.db.put(i):void console.log(t)})};this.on(n.EVT.shopSaveName,function(t){var e=Math.floor((Date.now()+60*n.timezone*60*1e3)/1e3),i={_id:"shop_name",value:t,type:"shop",updated:e};o(i)}),this.on(n.EVT.shopSaveTimezone,function(t){var e=Math.floor((Date.now()+60*n.timezone*60*1e3)/1e3),i={_id:"shop_timezone",value:t,type:"shop",updated:e};o(i)}),this.on(n.EVT.shopLoadData,function(){i()})}}]),t}(),r=new a,n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!**************************************!*\
  !*** ./~/riotcontrol/riotcontrol.js ***!
  \**************************************/
function(t,e,n){var i={_stores:[],addStore:function(t){this._stores.push(t)}};["on","one","off","trigger"].forEach(function(t){i[t]=function(){var e=[].slice.call(arguments);this._stores.forEach(function(n){n[t].apply(null,e)})}}),t.exports=i},/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
function(t,e){(function(e){t.exports=e}).call(e,{})},/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=bundle.js.map